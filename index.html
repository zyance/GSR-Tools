<!DOCTYPE html>
<html lang="de">
<head> 
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Google Fonts: Fira Sans
     wird vom Browser frÃ¼h geladen, wichtig fÃ¼r sauberes Rendering -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

<!-- App Stylesheet
     enthÃ¤lt Layout, Farben, Komponenten -->

<title>GrÃ¼nderzeithaus Sanierungs-Berater</title>

<style>

/* =====================================================
   GRUNDVARIABLEN
===================================================== */
:root{
  --hellgrau:#f2f2f2;
  --mittelgrau:#b5b5b5;
  --textgrau:#333333;
  --baukult:#7090a7;
}

/* =====================================================
   TYPOGRAFIE
===================================================== */
html {
  font-size: 18px;
}

h1, h2, h3 {
  font-family: "Fira Sans", Arial, sans-serif;
  font-weight: 500;
  color: var(--textgrau);
}

.note {
  font-size: 1rem;
  color: #666;
  line-height: 1.5;
}

/* =====================================================
   BASIS
===================================================== */
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 20px 0;
  min-height: 100vh;

  display: flex;
  justify-content: center;
  align-items: flex-start;

  font-family: "Fira Sans", Arial, system-ui, sans-serif;
  font-weight: 300;
  font-size: 1rem;
  line-height: 1.5;

  color: var(--textgrau);
  background-color: #5c88a1;
}

/* =====================================================
   APP-RAHMEN
===================================================== */
.app-container {
  width: 100%;
  max-width: 600px;
  background: #ffffff;
  box-shadow: 0 10px 25px rgba(0,0,0,0.25);
}

.header-image img {
  width: 100%;
  height: auto;
  display: block;
}

.content {
  padding: 5%;
  text-align: center;
}

/* =====================================================
   BOXEN
===================================================== */
.box {
  width: 92%;
  margin: 3% auto;
  padding: 3%;
  background: #fff;
  border: 1px solid var(--hellgrau);
  border-radius: 6px;
}

.summary-box {
  background: var(--hellgrau);
}

/* =====================================================
   FORMULARFELDER
===================================================== */
input[type="number"],
input[type="text"],
select {
  width: 42%;
  padding: 8px;
  font-size: 1rem;

  border: 1px solid var(--mittelgrau);
  border-radius: 4px;

  position: relative;
  z-index: 10;
  pointer-events: auto;
}

/* =====================================================
   BUTTONS
===================================================== */
button {
  background: var(--baukult);
  color: #fff;
  border: none;
  border-radius: 6px;

  padding: 12px 24px;
  font-size: 1rem;
  font-family: "Fira Sans", Arial, sans-serif;
  font-weight: 500;

  cursor: pointer;
}

button:hover {
  background: #5a7a91;
}

.box button {
  display: block;
  margin: 0 auto;
}

/* =====================================================
   GRID-BUTTONS
===================================================== */
.grid-container {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}

.grid-btn {
  background: #cbddec;
  border: 1px solid var(--textgrau);
  border-radius: 6px;
  padding: 6px;
  cursor: pointer;
}

.grid-btn:hover {
  background: #e0e0e0;
}

.grid-btn.active {
  background: #ffffff;
  border-color: #000;
  border-width: 2px;
}

.grid-btn img {
  width: 100%;
  display: block;
  pointer-events: none;
}

/* =====================================================
   ACCORDION
===================================================== */
.accordion-header {
  background: var(--hellgrau);
  padding: 12px;
  border-radius: 6px;

  display: flex;
  justify-content: space-between;

  font-weight: 500;
  cursor: pointer;
  user-select: none;
}

.accordion-header:hover {
  background: var(--mittelgrau);
}

.accordion-content {
  display: none;
  padding-top: 12px;
}

.accordion-content.open {
  display: block;
}

/* =====================================================
   SLIDER â€“ ALLGEMEIN
===================================================== */
.slider-wrapper {
  width: 100%;
  max-width: 100%;
}

input[type="range"] {
  -webkit-appearance: none;
  width: 100%;
  height: 20px;
  border-radius: 10px;
  outline: none;
  background: #ddd;
}

/* Thumb WebKit */
input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 24px;
  height: 24px;
  background: #333;
  border-radius: 50%;
  border: none;
  cursor: pointer;
}

/* Thumb Firefox */
input[type="range"]::-moz-range-thumb {
  width: 24px;
  height: 24px;
  background: #333;
  border-radius: 50%;
  border: none;
  cursor: pointer;
}

/* =====================================================
   SLIDER SPEZIAL: FENSTERALTER
   Links = 50 Jahre (alt, rot)
   Rechts = 1 Jahr (neu, grÃ¼n)
===================================================== */
#fensterAlter {
  background: linear-gradient(to right,
    #e53935 0%,    /* sehr alt */
    #e53935 33%,
    #fbc02d 33%,  /* mittel */
    #fbc02d 66%,
    #4caf50 66%,  /* neu */
    #4caf50 100%
  );
}

/* =====================================================
   SLIDER SPEZIAL: RAUMTEMPERATUR
===================================================== */
#raumtemp {
  background: linear-gradient(to right,
    #b3e5fc 0%,   /* kalt */
    #81d4fa 33%,
    #ffe082 50%, /* angenehm */
    #ffb74d 75%,
    #e57373 100% /* warm */
  );
}

.scale {
  display: flex;
  justify-content: space-between;
  width: 100%;
  font-size: 14px;
}

/* =====================================================
   SWITCH DACH
===================================================== */
.main-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
}

.switch {
  position: relative;
  display: inline-block;
  width: 60px;
  height: 34px;
  vertical-align: middle;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  inset: 0;
  background-color: #7090a7;
  border-radius: 15px;
  transition: .3s;
  pointer-events: none;
}

.slider:before {
  content: "";
  position: absolute;
  width: 26px;
  height: 26px;

  left: 4px;
  top: 50%;
  transform: translateY(-50%);

  background-color: white;
  border-radius: 50%;
  transition: .3s;
}

input:checked + .slider:before {
  transform: translate(26px, -50%);
}

/* =====================================================
   SUMMARY
===================================================== */
#summaryText ul {
  list-style: none;
  padding: 0;
  margin: 0;
  text-align: left;
}

#summaryText li {
  padding: 6px 0;
  border-bottom: 1px solid #ddd;
}

#summaryText li:last-child {
  border-bottom: none;
}

/* =====================================================
   AUSWERTUNG
===================================================== */
#auswertungText {
  white-space: pre-wrap;
  line-height: 1.6;
  font-size: 1rem;
}

/* =====================================================
   ROWS
===================================================== */
.row-2 {
  display: flex;
  gap: 20px;
}

.row-2 .col {
  flex: 1;
}

.disclaimer {
  text-align: center;
  font-style: italic;
  font-size: 14px;
}

</style>
</head>

<body>
<!-- ANFANG BODY -->
<div class="app-container">
<form id="mainForm" onsubmit="return false;">

<!-- WELCOME txt -->
  <div class="content">
    <h2>â€žWillkommen beim<br/>GrÃ¼nderzeithaus-Helfer!"</h2>
    <span class="note">
      <i>"Wenn Sie fÃ¼r Ihr GrÃ¼nderzeithaus in Wien <b>umfassend sanieren</b> wollen und/oder ein <b>Bauwerksbuch</b> benÃ¶tigen, kann ich Ihnen schon nach Eingabe von wenigen Daten eine fundierten Rat fÃ¼r die nÃ¤chsten Schritte geben: Was fÃ¼r Ihr GebÃ¤ude empfehlenswert ist und worauf Sie achten sollten."*</i>
    </span>
  </div> 

<!-- BAUPHASEN GRID -->
  <div class="box">
    <h3>Die 4 Bauphasen der GrÃ¼nderzeit</h3>
    <p class="note"><i>â€žGibt einen ersten Ãœberblick Ã¼ber das Alter des GebÃ¤udes.â€œ</i></p>

<!-- Hidden Field fÃ¼r JS -->
    <input type="hidden" id="bauphase">

<!-- VORGRÃœNDERZEIT -->
    <div class="grid-container">
      <button type="button" class="grid-btn bauphase-btn" data-value="VorgrÃ¼nderzeit">
        <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhUJQbWEiAwi2YpJ0I3i34aj5FQRKXj-Aa2JN9VoI_pO8u_TW1RVqZ2y1fFtM_Xz1UiMBQLNKCak_SengSak4sxTXVAXIbavA8h2sM8Fd7GxiBzO4RbFHXGmqHaF5wyhk9vNsGV2hTHufyue2m2s7xKFW260864UI2ZSJB8g7yoL3Fi4wuBEZQnCTTqxSvi/s1600/GZH%201.png"
             alt="VorgrÃ¼nderzeit">
      </button>

<!-- FRÃœHGRÃœNDERZEIT -->
      <button type="button" class="grid-btn bauphase-btn" data-value="FrÃ¼hgrÃ¼nderzeit">
        <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiU-lTfM-GbSoXqmU-u24LAXatmvm7-I-yCleGa-c1vtgMJVmQc9uB6iTx60a6S5kXBdnctf2_TbHWvRKJcGEr9Zvs1Iiu5RhwMNCu_sYdhlR70TqqO7G_duPLcDrmuk5SkYj_srz2vZ2Ih0-BOf_u4kX1315-lnmup1kkpeUQApK6puZRhoHn-YIdqwISB/s1600/GZH%202.png"
             alt="FrÃ¼hgrÃ¼nderzeit">
      </button>

<!-- HOCHGRÃœNDERZEIT -->
      <button type="button" class="grid-btn bauphase-btn" data-value="HochgrÃ¼nderzeit">
        <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhc4dtrSvVD31xXKk3Rug97KO_eeTFzLT2MRphI_mJ8QKYQE-_VlaMmNsYDArBi8aVJQxUh6PuV3euSQ0KLbgMNvsIMHQvjVfITQD8WteeVmFKvKfwtI4FzKPCF-iHnDbT9RKPA9a9qc2jzQw3YY85GHJ8D9K1HQmomgk-osU1bqyg8BWp-4nDpRyjveNwH/s1600/GZH%203.png"
             alt="HochgrÃ¼nderzeit">
      </button>

<!-- SPÃ„TGRÃœNDERZEIT -->
      <button type="button" class="grid-btn bauphase-btn" data-value="SpÃ¤tgrÃ¼nderzeit">
        <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjrSkEcslltNNOj2-kxBQ5P4ARPIh_oHy4-HD7XSZjnw7QhMwWWSjqzfv61ukdjRsOV49sePy6IKA5oGm-VDfVdnv7hul-UUpG1EyrrLnu1ag9wetSR0ELGFn_wsMlvp00zMUkI5KEXpVq2evm2TwxewWe5xZFpjLPcZ0MfKkxvp9urwRDt5OsU_emqDwY7/s320/GZH%204.png"
             alt="SpÃ¤tgrÃ¼nderzeit">
      </button>
    </div>
  </div>

<!-- EIGENTÃœMER UND BEWOHNER -->
<!-- *********************** -->
  <div class="box">
    <h3 style="margin-top: 24px;">EigentÃ¼mer und Bewohner:</h3>
    <label><input type="checkbox" id="eigentuemer"> Allein- oder MehrheitseigentÃ¼mer:in</label><br>
    <label><input type="checkbox" id="weg"> EigentÃ¼mergemeinschaft (WEG)</label><br>
    <label><input type="checkbox" id="mieter"> Mieter:in</label><br> 
  </div> 

<!-- ANGABEN ZUM GEBÃ„UDE -->
<div class="box">
  <h3>Angaben zum GebÃ¤ude</h3>
  <p class="note"><i>"Die Eigenschaften des GebÃ¤udes sind Grundlage aller Berechnungen."</i></p>

  <!-- Erste Zeile: PLZ + WohnflÃ¤che -->
  <div class="row-2">
    <div class="col">
      <label>Postleitzahl</label><br>
      <select id="postal_code">
        <option value="1010">1010</option>
        <option value="1020">1020</option>
        <option value="1030">1030</option>
        <option value="1040">1040</option>
        <option value="1050">1050</option>
        <option value="1060">1060</option>
        <option value="1070">1070</option>
        <option value="1080">1080</option>
        <option value="1090">1090</option>
        <option value="1100">1100</option>
        <option value="1110">1110</option>
        <option value="1120">1120</option>
        <option value="1130">1130</option>
        <option value="1140">1140</option>
        <option value="1150">1150</option>
        <option value="1160">1160</option>
        <option value="1170">1170</option>
        <option value="1180">1180</option>
        <option value="1190">1190</option>
        <option value="1200">1200</option>
        <option value="1210">1210</option>
        <option value="1220">1220</option>
        <option value="1230">1230</option>
      </select>
    </div>

    <div class="col">
      <label>WohnflÃ¤che (mÂ²)</label><br>
      <input type="number" id="area_m2">
    </div>
  </div>

  <br>

  <!-- Zweite Zeile: Geschosse + Fenster -->
  <div class="row-2">
    <div class="col">
      <label>Geschosse (inkl. EG)</label><br>
      <input type="number" id="floor_count">
    </div>

    <div class="col">
      <label>Fenster pro Geschoss</label><br>
      <input type="number" id="windows_per_floor">
    </div>
  </div>
</div>

<!-- ******************** -->
<!-- THERMISCHE SANIERUNG -->
<!-- ******************** -->
  <div class="box">
    <div class="accordion-header" onclick="toggleAccordion(this)">
      <span>Thermische Sanierung</span><span>â–¼</span>
    </div>
    <div class="accordion-content">

      <h3>Die Bebauung des GrundstÃ¼cks</h3>
      <p class="note"><i>"Entscheidend fÃ¼r WÃ¤rmeverluste und GrÃ¶ÃŸe der Fassaden."</i></p>


<!-- BEBAUUNG -->
<!-- ******** -->
<!-- Art der Bebauung des GrundstÃ¼cks -->
<input type="hidden" id="building_type">

<div class="grid-container">

<!-- FREISTEHEND -->
  <button type="button" class="grid-btn building-btn" data-value="Freistehend">
    <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhf9_tkMIji4Fw90CxZdIypq36VnUt_BvdS5TdyJnGWTsgTkyCQOnR7WVPxJPwXy4reqiq6zo7jxzBOCaqr53-Ryof2li9ilAtvTyPMF2JFm5hXBG1xRyCr1A5iHSbwh803EEwkURODNPvPHIPjeKUU2ze2IzKy50r5j758gwTjVlQfHkKAgmFyzbSJFRQA/s320/BAU_1.png"
         alt="Freistehend">
  </button>

<!-- ECKHAUS -->
  <button type="button" class="grid-btn building-btn" data-value="Eckhaus">
    <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiQT8QYouomyMbKyoJg0OkZyWSqPqAsnJkVluCABhFkXnruSOMsP99pJMxivSk4HI6JxVyQbcyOBF7S-CHYKeByfoy8tzGCCR8P_yLNYzsz6X_yVMhyphenhyphen7qlZVvC3P2BXtlne33ncJ9gwm7pQhRLYS6urrHGdNAknGUO-FQOSz8h56Vm5iIcLhHVZcUIn33d5/s320/BAU_2.png"
         alt="Eckhaus">
  </button>

<!-- GESCHLOSSENE BAUWEISE -->
  <button type="button" class="grid-btn building-btn" data-value="Geschlossene Bauweise">
    <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhtR4trn47VMw7LTCzHycsfRxTPdkjJ1iLC5tehQqLzyW4NmKnea8E3KVOgpf_jhwvIQMsCsNsCcBYcXDsBSdqBKhnNKHD6pxKPx6Fce93nDthHdMPhYLYoJAC6RYO1JrwTE1mQ0-HfZW_-BBCMRc31DAf6_Qpy8rTUubtp9Ftb1IA1R4F_-cKmaapp7O_r/s320/BAU_3.png"
         alt="Geschlossene Bauweise">
  </button>

<!-- MIT HINTERHAUS -->
  <button type="button" class="grid-btn building-btn" data-value="Mit Hinterhaus">
    <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjA8-IH0KQi74v_fHFrc6mw2mdQtF9VbfyBhlfUHstxVyDBnMR54PFe4qPQ8MR0Ou1nfl8W9lxRmTTMoKYuJNBgnHzsnViDZFeUDK9pBS0B3rYa2ieeTATUvVEt43ii_1YB1Cp9ENxR9e3xQHZtUMgi3vJ8uIxRZGlbkqIiTkqS8xqT_8CThQoMsozyXEyE/s320/BAU_4.png"
         alt="Mit Hinterhaus">
  </button>

</div>

<div style="height:18px;"></div>

<!-- ZUSTAND DES HAUSES -->
<!-- ****************** -->
      <h3>Zustand des Hauses:</h3>
      <p class="note" style="margin-top: 20px;"><i>"Der Zustand entscheidet Ã¼ber den Umfang der Sanierungsarbeiten."</i></p>
      <label><input type="radio" name="haus_zustand" value="schlecht"> sanierungsbedÃ¼rftig</label><br>
      <label><input type="radio" name="haus_zustand" value="zufrieden"> zufriedenstellend</label><br>
      <label><input type="radio" name="haus_zustand" value="sehr gut"> ausgezeichnet, gepflegt</label><br>

<div style="height:18px;"></div>

<!-- ART DER FENSTER -->
<!-- *************** -->
      <h3>Art der Fenster:</h3>
      <p class="note" style="margin-top: 20px;"><i>"Der WÃ¤rmeverlust Ã¼ber alte, undichte Fenster kann erheblich sein."</i></p>
      <label><input type="radio" name="fenster_art" value="Kastenfenster"> Wiener Kastenfenster</label><br>
      <label><input type="radio" name="fenster_art" value="2-fach"> 2-fach</label><br>
      <label><input type="radio" name="fenster_art" value="3-fach"> 3-fach</label><br>


<!-- ALTER DER FENSTER -->
<!-- ***************** -->

<!--
Wichtig:
Der Slider ist logisch â€žalt â†’ neuâ€œ gedacht (rechts = neu),
deshalb ist die Richtung bewusst `to left` gesetzt.
-->

<h3 style="margin-top: 20px;">
  Alter der Fenster: <span id="fensterWert">25</span> Jahre
</h3>

<input
  type="range"
  id="fensterAlter"
  min="1"
  max="50"
  value="25"
  oninput="updateFensterAlter(this.value)"
>
<span id="fensterAlterAnzeige"></span>

<script>
  function updateFensterAlter(rawValue) {
    // Slider lÃ¤uft 1 (neu) â†’ 50 (alt)
    // Bedeutung soll sein: links alt (50), rechts neu (1)
    const ageYears = 51 - Number(rawValue);

    // Anzeige neben dem Slider
    document.getElementById("fensterAlterAnzeige").textContent =
      `Alter der Fenster: ${ageYears} Jahre`;

    // zentral speichern (fÃ¼r Summary / collectData)
    window.currentWindowAgeYears = ageYears;
  }

  // Initial setzen
  updateFensterAlter(document.getElementById("fensterAlter").value);
</script>

<div class="slider-label" style="display:flex; justify-content:space-between; margin-top:6px; font-size:14px;">
  <span>sehr alt</span>
  <span>neuwertig</span>
</div>

</div>  <!-- ENDE accordion-content Thermische Sanierung -->
</div>  <!-- ENDE box Thermische Sanierung -->



<!-- ********************** -->
<!-- HEIZUNG UND WARMWASSER -->
<!-- ********************** -->
<div class="box">
  <div class="accordion-header" onclick="toggleAccordion(this)">
    <span>Heizung & Warmwasser</span><span>â–¼</span>
  </div>
  <div class="accordion-content">
    <p class="note"><i>"Die Umstellung auf erneuerbare Energie ist oft Hauptziel der Sanierung."</i></p>

    <h3>Bestehendes HZ und WW System</h3>
    <label><input type="checkbox" id="fernwaerme"> FernwÃ¤rme, zentral</label><br>
    <label><input type="checkbox" id="gas"> Gas / Ã–l, zentral</label><br>
    <label><input type="checkbox" id="dezGas"> Gasthermen, dezentral</label><br>
    <label><input type="checkbox" id="elektrisch"> Elektrisch, dezentral</label>

<!-- WOHNKOMFORT -->
<!-- *********** -->
    <h3 style="margin-top: 20px;">Wohnkomfort</h3>
    <p class="note"><i>"Das subjektive WÃ¤rme- oder KÃ¤lteempfinden entscheidet Ã¼ber die Behaglichkeit."</i></p>

<h3>Raumklima: <span id="tempWert">21</span> Â°C</h3>

<div class="slider-wrapper">
<input
  type="range"
  id="raumtemp"
  min="17"
  max="25"
  value="21"
>

  <div class="scale">
    <span>17Â°</span>
    <span>19Â°</span>
    <span>21Â°</span>
    <span>23Â°</span>
    <span>25Â°</span>
  </div>
</div>

<div class="rating">Empfinden: <span id="tempText">angenehm</span></div>

    </div>          
 </div>           

<!-- ******************* -->
<!-- PHOTOVOLTAIC ANLAGE -->
<!-- ******************* -->
<div class="box">
  <div class="accordion-header" onclick="toggleAccordion(this)">
    <span>Photovoltaik-Anlage</span><span>â–¼</span>
  </div>
  <div class="accordion-content">
    <h3>Die Dachform</h3>
    <input type="hidden" id="dachform">
    <p class="note"><i>"Gibt Auskunft Ã¼ber den Stromertrag eine PV-Anlage."</i></p>

<!-- DACHFORM -->
<!-- ******** -->
    <div class="grid-container">
      <button type="button" class="grid-btn dachform-btn" data-value="Satteldach">
        <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgQRtaL69qeHPxzfZvdug64juBuEkvjkGY3-bEC3C0uc07Pus0c3nRHlSgKn3BvnUzKpVh6G_RWBgcWjbVmCvYK17OISI9H3BaNi3f17KQ8m6CiQljzkgRdA5uJuIMfEruLlPrGJvrj6W3TneRBJcCXqU5IJUitvBSw08HIlHI2f5cjGeim8JgLmXkINF_k/s320/DACH_1.png" alt="Satteldach">
      </button>

      <button type="button" class="grid-btn dachform-btn" data-value="Satteldach mit Gauben">
        <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhp9eaBs2FIL7K04CdA0vq8Ddi2oibTa5PCcQR5dlZz-8-X8vUFTLL4CUaewqQL93FczbZTCQ4JhBv1-dBBU8P5fHAPI86xK_06-q1UDaYW3JJwi_GzIgjHoJgtcxIvVpIPlOz00IVURg9hwz5F_0VuUVuxJ8mg0d4qBcMpq7BZdQx52WIwreNh5U4wMmXx/s320/DACH_2.png" alt="Satteldach mit Gauben">
      </button>

      <button type="button" class="grid-btn dachform-btn" data-value="Mansarddach">
        <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhT1wPuN97D1yW7hLl-rB7G4EwYUWIq8DeI42ffdW3OHIQkKLpo5GX3uBry1t2CnrpiKluplfFoPYFF87SLTigt6lYJQYltDYWukwNAztSy1ZefVEK9ktFd-ZPuhoxPNjtJtTwzGllxItu-2lAsOgzG8N8BJ0Ee_fUhZDkcwhURIwDVi0nKMEbM41ZyZJW7/s320/DACH_3.png" alt="Mansarddach">
      </button>

      <button type="button" class="grid-btn dachform-btn" data-value="Walmdach">
        <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEha87YkqXQLZK8E43kfOdRd1NZ-EwaxuMDQjq3Lj_CumrS5EkBXGEnsle3FmmP433vr3ZU0dEDGsPEUPNp_sjT727DMGo1XgURFRvGmT8rJ7NnBTa-dvxpctALsK7eDOAsZAAcWk2grgC4lLvMMDa4CGQV8FrhiqL_nLJhjv7MdNAVzqVAYXlLnUFHy8iad/s320/DACH_4.png" alt="Walmdach">
      </button>
    </div>

<!-- DACHAUSRICHTUNG -->
<!-- *************** -->
<h3 style="margin-top: 20px;">Dachausrichtung:</h3>

<input type="hidden" id="pv_ausrichtung" value="SÃ¼d">

<div class="main-wrapper">
  <span id="label-sued" class="label label-left is-active">SÃ¼d</span>

  <label class="switch">
    <input type="checkbox" id="dachAusrichtung">
    <span class="slider"></span>
  </label>

  <span id="label-ow" class="label label-right">Ost/West</span>
</div>

</div>  <!-- ENDE .accordion-content Photovoltaik -->
</div>  <!-- ENDE .box Photovoltaik -->

<!-- ZIELE DER SANIERUNG -->
<!-- ******************** -->
<div class="box">
  <div class="accordion-header" onclick="toggleAccordion(this)">
    <span>Ziele der Sanierung</span><span>â–¼</span>
  </div>

  <div class="accordion-content">
    <p class="note"><i>"FÃ¼r die erfolgreiche Sanierung braucht es klare Ziele."</i></p>
    <label><input type="checkbox" id="kosten_senken"> Kosten senken</label><br>
    <label><input type="checkbox" id="komfort"> Komfort steigern</label><br>
    <label><input type="checkbox" id="gaslos"> Raus aus Gas und Ã–l</label><br>
    <label><input type="checkbox" id="klima"> Klimaschutz</label>
  </div>
</div>

<!-- ZUSAMMENFASSUNG -->
<!-- **************** -->
<div class="box summary-box">
  <h3>Zusammenfassung</h3>
  <p class="note"><i>"ÃœberprÃ¼fen Sie nochmal Ihre Eingaben."</i></p>
  <div id="summaryText">Noch keine Eingaben.</div>
</div>

<!-- ZUR AUSWERTUNG -->
<div class="box">
  <button type="button" onclick="
    (function(){
      const bauphaseMap = { 'VorgrÃ¼nderzeit':1, 'FrÃ¼hgrÃ¼nderzeit':2, 'HochgrÃ¼nderzeit':3, 'SpÃ¤tgrÃ¼nderzeit':4 };
      const selectedBtn = document.querySelector('.bauphase-btn.active');
      const bauphaseValue = selectedBtn ? bauphaseMap[selectedBtn.dataset.value] : null;

      if(!bauphaseValue){
        alert('Bitte zuerst eine Bauphase auswÃ¤hlen!');
        return;
      }

      // Daten sammeln
      const data = collectData();
      data.building_phase = bauphaseValue;
      data.project_id = data.project_id || 'project';

      // POST an PHP
fetch('https://app.sunsunsun.at/wien/gzh/php/save_user_data.php', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    building_phase: data.building_phase
  })
})
.then(res => {
  console.log('HTTP Status:', res.status);
  return res.text();   // ðŸ‘ˆ KEIN json()
})
.then(text => {
  console.log('RAW RESPONSE:', text);
  alert('Antwort vom Server erhalten â€“ siehe Konsole');
})
.catch(err => {
  console.error('FETCH ERROR:', err);
  alert('Server nicht erreichbar (Netzwerk / Pfad / CORS)');
});

    })();
  ">
    Zur Auswertung
  </button>
</div>



<!-- ENDE BODY -->

<script>
/* =====================================================
   ACCORDION FUNCTION
===================================================== */
function toggleAccordion(header) {
  var content = header.nextElementSibling;
  var arrow = header.querySelector("span:last-child");
  if (!content) return;

  content.classList.toggle("open");
  if (arrow) {
    arrow.textContent = content.classList.contains("open") ? "â–²" : "â–¼";
  }
}

/* =====================================================
   HELPER FUNCTIONS
===================================================== */
function getNumber(id) {
  const el = document.getElementById(id);
  if (!el) return null;
  const val = Number(el.value);
  return isNaN(val) ? null : val;
}

function getString(id) {
  const el = document.getElementById(id);
  return el ? el.value : null;
}

function getRadio(name) {
  const sel = document.querySelector('input[name="' + name + '"]:checked');
  return sel ? sel.value : null;
}

/* =====================================================
   COLLECT DATA
===================================================== */
function collectData() {
  // Bauphase von Buttons (Mapping auf 1â€“4)
  const bauphaseMap = {
    "VorgrÃ¼nderzeit": 1,
    "FrÃ¼hgrÃ¼nderzeit": 2,
    "HochgrÃ¼nderzeit": 3,
    "SpÃ¤tgrÃ¼nderzeit": 4
  };
  const selectedBtn = document.querySelector(".bauphase-btn.active");
  const bauphaseValue = selectedBtn ? bauphaseMap[selectedBtn.dataset.value] : null;

  // Rollen
  const roles = [];
  if (document.getElementById("eigentuemer")?.checked) roles.push("EigentÃ¼mer:in");
  if (document.getElementById("weg")?.checked) roles.push("WEG");
  if (document.getElementById("mieter")?.checked) roles.push("Mieter:in");
  if (document.getElementById("hausverwaltung")?.checked) roles.push("Hausverwaltung");
  if (document.getElementById("energieberater")?.checked) roles.push("Energieberater:in");

  // Heizung
  const heating = [];
  if (document.getElementById("fernwaerme")?.checked) heating.push("FernwÃ¤rme");
  if (document.getElementById("gas")?.checked) heating.push("Gas / Ã–l zentral");
  if (document.getElementById("dezGas")?.checked) heating.push("Gasthermen dezentral");
  if (document.getElementById("elektrisch")?.checked) heating.push("Elektrisch");

  // Ziele
  const goals = [];
  if (document.getElementById("kosten_senken")?.checked) goals.push("Kosten senken");
  if (document.getElementById("komfort")?.checked) goals.push("Komfort steigern");
  if (document.getElementById("gaslos")?.checked) goals.push("Raus aus Gas und Ã–l");
  if (document.getElementById("klima")?.checked) goals.push("Klimaschutz");

  // Fensteralter Slider (global)
  const fensterAlterJahre = window.currentWindowAgeYears ?? null;

  return {
    building_phase: bauphaseValue,              // âœ… Zahl 1â€“4 oder null
    building_type: getString("building_type"),
    roles: roles,
    living_area_m2: getNumber("area_m2"),
    floors_total: getNumber("floor_count"),
    windows_per_floor: getNumber("windows_per_floor"),
    postal_code: getNumber("postal_code"),
    building_condition: getRadio("haus_zustand"),
    window_type: getRadio("fenster_art"),
    window_age_years: fensterAlterJahre,
    heating: heating,
    indoor_temp_c: getNumber("raumtemp"),
    roof_type: getString("dachform"),
    roof_orientation: getString("pv_ausrichtung"),
    goals: goals
  };
}

/* =====================================================
   SUMMARY UPDATE
===================================================== */
function updateSummary() {
  var d = collectData();
  var box = document.getElementById("summaryText");
  if (!box) return;

  // Keine Eingaben
  if (
    d.building_phase === null &&
    d.living_area_m2 === null &&
    d.floors_total === null &&
    d.windows_per_floor === null &&
    d.postal_code === null &&
    d.window_type === null &&
    d.window_age_years === null &&
    d.heating.length === 0 &&
    d.goals.length === 0
  ) {
    box.innerHTML = "Noch keine Eingaben.";
    return;
  }

  box.innerHTML =
    "<ul>" +
    "<li>Bauphase: " + (d.building_phase ?? "â€“") + "</li>" +
    "<li>WohnflÃ¤che: " + (d.living_area_m2 !== null ? d.living_area_m2 + " mÂ²" : "â€“") + "</li>" +
    "<li>Geschosse: " + (d.floors_total ?? "â€“") + "</li>" +
    "<li>Fenster/Geschoss: " + (d.windows_per_floor ?? "â€“") + "</li>" +
    "<li>Postleitzahl: " + (d.postal_code ?? "â€“") + "</li>" +
    "<li>Bebauung: " + (d.building_type ?? "â€“") + "</li>" +
    "<li>Zustand: " + (d.building_condition ?? "â€“") + "</li>" +
    "<li>Fenster: " + (d.window_type ?? "â€“") +
      (d.window_age_years !== null ? " (" + d.window_age_years + " Jahre)" : "") +
    "</li>" +
    "<li>Heizung: " + (d.heating.length ? d.heating.join(", ") : "keine Angabe") + "</li>" +
    "<li>Raumklima: " + (d.indoor_temp_c !== null ? d.indoor_temp_c + " Â°C" : "â€“") + "</li>" +
    "<li>Dach: " + (d.roof_type ?? "â€“") + " / " + (d.roof_orientation ?? "â€“") + "</li>" +
    "<li>Ziele: " + (d.goals.length ? d.goals.join(", ") : "keine Angabe") + "</li>" +
    "</ul>";
}




/* =====================================================
   SLIDER EVENTS
===================================================== */
var fensterAlter = document.getElementById("fensterAlter");
if (fensterAlter) {
  fensterAlter.addEventListener("input", function () {
    var out = document.getElementById("fensterWert");

    // Slider-Wert ist technisch (1â€“50), Bedeutung ist invertiert
    var years = 51 - Number(this.value);

    if (out) out.textContent = years;
    updateSummary();
  });
}

var raumtemp = document.getElementById("raumtemp");
if (raumtemp) {
  raumtemp.addEventListener("input", function () {
    var out = document.getElementById("tempWert");
    if (out) out.textContent = this.value;
    updateSummary();
  });
}

/* =====================================================
   GRID BUTTONS
===================================================== */
function setupGridButtons(buttonClass, hiddenInputId) {
  var buttons = document.querySelectorAll("." + buttonClass);
  var hiddenInput = document.getElementById(hiddenInputId);
  if (!hiddenInput) return;

  buttons.forEach(function (btn) {
    btn.addEventListener("click", function () {
      buttons.forEach(function (b) { b.classList.remove("active"); });
      btn.classList.add("active");
      hiddenInput.value = btn.dataset.value || "";
      updateSummary();
    });
  });
}

setupGridButtons("bauphase-btn", "bauphase");
setupGridButtons("building-btn", "building_type");
setupGridButtons("dachform-btn", "dachform");


/* =====================================================
   GOALS CHECKBOX EVENTS
===================================================== */
["kosten_senken","komfort","gaslos","klima"].forEach(function(id){
  var el = document.getElementById(id);
  if (el) {
    el.addEventListener("change", updateSummary);
  }
});

/* =====================================================
   RADIO EVENTS (Fensterart, Zustand)
===================================================== */
["fenster_art","haus_zustand"].forEach(function(name){
  document
    .querySelectorAll('input[name="' + name + '"]')
    .forEach(function(el){
      el.addEventListener("change", updateSummary);
    });
});

/* =====================================================
   INITIALIZE
===================================================== */
updateSummary();
</script>

<!--
=====================================================
P2 / FUTURE DEVELOPMENT NOTES â€“ SAN.APP P1
=====================================================

Diese Datei bildet den stabilen Stand von Phase P1 ab.
Fokus von P1 war:
â€“ VerstÃ¤ndlichkeit fÃ¼r Nicht-Techniker
â€“ visuelle PlausibilitÃ¤t
â€“ robuste, einfache Logik
â€“ keine Optimierung auf Wiederverwendbarkeit

Bewusste P1-Entscheidungen:
â€“ Inline-Styles bei Slidern (z. B. FarbverlÃ¤ufe) zur schnellen visuellen Bewertung
â€“ Inline-onclick bei Accordion-Headern fÃ¼r maximale Transparenz
â€“ Keine dynamischen Farb-/Skalenberechnungen
â€“ Klare, explizite IDs statt abstrakter Datenmodelle

P2 â€“ mÃ¶gliche, aber NICHT verpflichtende Schritte:
1) Slider-Styles (z. B. Fensteralter, Raumtemperatur)
   â€“ FarbverlÃ¤ufe in CSS auslagern
   â€“ optional dynamisch per JS an Slider-Wert koppeln

2) Accordion-Logik
   â€“ optional Event-Listener statt Inline-onclick
   â€“ nur wenn zusÃ¤tzliche Logik (Tracking, Analytics) nÃ¶tig wird

3) Summary-Rendering
   â€“ aktuell bewusst simpel (innerHTML)
   â€“ erst in P2/P3 auf Templates oder Komponenten umstellen

4) Struktur
   â€“ Trennung in CSS / JS-Dateien nur dann,
     wenn mehrere Pages dieselbe Logik teilen

WICHTIG:
P1-Code ist NICHT â€žunsauberâ€œ, sondern bewusst einfach.
Ã„nderungen in P2 dÃ¼rfen keine bestehenden Interaktionen verschlechtern.
=====================================================
-->

</body>
</html>
     
